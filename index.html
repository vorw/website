<!-- Add this in the HTML body where the snake game section is -->
<div class="project-section" id="snake-section">
    <div class="score-container">
        <div class="score">Score: <span id="currentScore">0</span></div>
        <div class="high-score">High Score: <span id="highScore">0</span></div>
    </div>
    <div class="game-board" id="gameBoard"></div>
    <div class="controls">
        <button onclick="startGame()">Start Game</button>
        <button onclick="pauseGame()">Pause</button>
    </div>
    <div class="game-over" id="gameOver">
        <h2>Game Over!</h2>
        <p>Final Score: <span id="finalScore">0</span></p>
        <p>High Score: <span id="finalHighScore">0</span></p>
        <button onclick="startGame()">Play Again</button>
    </div>
</div>

<!-- Add these styles to your existing CSS -->
<style>
    /* Prevent scrolling when arrow keys are pressed */
    body.playing-snake {
        overflow: hidden;
    }

    .score-container {
        display: flex;
        justify-content: space-around;
        margin-bottom: 1rem;
        font-size: 1.5rem;
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    }

    .score, .high-score {
        background: rgba(255, 255, 255, 0.1);
        padding: 0.5rem 1.5rem;
        border-radius: 10px;
        backdrop-filter: blur(5px);
    }

    .game-over {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.9);
        padding: 2rem;
        border-radius: 12px;
        text-align: center;
        display: none;
        z-index: 100;
        backdrop-filter: blur(5px);
        border: 2px solid rgba(255, 255, 255, 0.1);
    }

    .game-over h2 {
        color: #ff4757;
        margin-bottom: 1rem;
    }

    .game-over button {
        margin-top: 1rem;
        padding: 0.8rem 1.5rem;
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .game-over button:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
    }
</style>

<!-- Replace the existing Snake Game JavaScript with this updated version -->
<script>
    // Snake Game Logic
    let snake = [{x: 10, y: 10}];
    let food = {x: 15, y: 15};
    let direction = 'right';
    let gameInterval;
    let score = 0;
    let highScore = localStorage.getItem('snakeHighScore') || 0;
    const gameBoard = document.getElementById('gameBoard');
    const boardSize = 20;
    let isGameRunning = false;

    // Update high score display
    document.getElementById('highScore').textContent = highScore;

    function createFood() {
        food = {
            x: Math.floor(Math.random() * boardSize),
            y: Math.floor(Math.random() * boardSize)
        };
        // Ensure food doesn't appear on snake
        while (snake.some(segment => segment.x === food.x && segment.y === food.y)) {
            food = {
                x: Math.floor(Math.random() * boardSize),
                y: Math.floor(Math.random() * boardSize)
            };
        }
    }

    function updateGame() {
        const newHead = {...snake[0]};

        switch(direction) {
            case 'up': newHead.y--; break;
            case 'down': newHead.y++; break;
            case 'left': newHead.x--; break;
            case 'right': newHead.x++; break;
        }

        // Check for collision with walls or self
        if (newHead.x < 0 || newHead.x >= boardSize || 
            newHead.y < 0 || newHead.y >= boardSize ||
            snake.some(segment => segment.x === newHead.x && segment.y === newHead.y)) {
            gameOver();
            return;
        }

        snake.unshift(newHead);

        if (newHead.x === food.x && newHead.y === food.y) {
            // Increase score
            score += 10;
            document.getElementById('currentScore').textContent = score;
            createFood();
        } else {
            snake.pop();
        }

        renderGame();
    }

    function renderGame() {
        gameBoard.innerHTML = '';
        snake.forEach((segment, index) => {
            const snakeElement = document.createElement('div');
            snakeElement.className = 'snake-cell';
            snakeElement.style.left = `${segment.x * 20}px`;
            snakeElement.style.top = `${segment.y * 20}px`;
            // Make head a different color
            if (index === 0) {
                snakeElement.style.background = '#2ecc71';
                snakeElement.style.boxShadow = '0 0 15px rgba(46, 204, 113, 0.8)';
            }
            gameBoard.appendChild(snakeElement);
        });

        const foodElement = document.createElement('div');
        foodElement.className = 'food';
        foodElement.style.left = `${food.x * 20}px`;
        foodElement.style.top = `${food.y * 20}px`;
        gameBoard.appendChild(foodElement);
    }

    function gameOver() {
        isGameRunning = false;
        clearInterval(gameInterval);
        // Update high score if necessary
        if (score > highScore) {
            highScore = score;
            localStorage.setItem('snakeHighScore', highScore);
            document.getElementById('highScore').textContent = highScore;
        }
        // Show game over screen
        const gameOverScreen = document.getElementById('gameOver');
        document.getElementById('finalScore').textContent = score;
        document.getElementById('finalHighScore').textContent = highScore;
        gameOverScreen.style.display = 'block';
        // Remove playing-snake class
        document.body.classList.remove('playing-snake');
    }

    function startGame() {
        // Hide game over screen if visible
        document.getElementById('gameOver').style.display = 'none';
        // Reset game state
        snake = [{x: 10, y: 10}];
        direction = 'right';
        score = 0;
        document.getElementById('currentScore').textContent = score;
        createFood();
        
        if (!isGameRunning) {
            isGameRunning = true;
            // Add playing-snake class to prevent scrolling
            document.body.classList.add('playing-snake');
            gameInterval = setInterval(updateGame, 100);
        }
    }

    function pauseGame() {
        isGameRunning = false;
        clearInterval(gameInterval);
        document.body.classList.remove('playing-snake');
    }

    // Updated event listener to prevent default behavior
    document.addEventListener('keydown', (e) => {
        if (!isGameRunning) return;
        
        // Prevent default behavior for arrow keys
        if(['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Space'].includes(e.key)) {
            e.preventDefault();
        }
        
        switch(e.key) {
            case 'ArrowUp': if (direction !== 'down') direction = 'up'; break;
            case 'ArrowDown': if (direction !== 'up') direction = 'down'; break;
            case 'ArrowLeft': if (direction !== 'right') direction = 'left'; break;
            case 'ArrowRight': if (direction !== 'left') direction = 'right'; break;
        }
    });
</script>
